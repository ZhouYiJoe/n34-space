<div id="container">
  <div id="top">
    <div id="left-top">
      <img id="avatar" [src]="this.post.authorAvatarFilename === null ? 'assets/default_avatar.webp' :
    'http://localhost:9090/images/' + this.post.authorAvatarFilename" alt="">
    </div>
    <div id="right-top">
      <div id="right-top-line-1">
        <a id="nickname" [routerLink]="['/app/users', post.authorUsername]">{{post.authorNickname}}</a>
        <div id="usernameAndTime">@{{post.authorUsername}}&nbsp;·&nbsp;{{post.timeCreated}}</div>
        <img src="assets/more.svg" alt="" id="more" (click)="showOrHideMenu()" *ngIf="this.canEdit">
        <div id="menu" *ngIf="menuVisible">
          <div class="menu-item" (click)="edit()">修改</div>
          <div class="menu-item" (click)="delete()">删除</div>
        </div>
        <div style="clear: both"></div>
      </div>
      <div id="right-top-line-2" (click)="onClickInPostContent($event)" [innerHTML]="post.html | safeHtml"></div>
    </div>
    <div style="clear: both"></div>
  </div>
  <div id="bottom">
    <div class="button" (click)="clickLikeButton()" [ngClass]="{'likedByMe': post.likedByMe}">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M14.6 8H21a2 2 0 0 1 2 2v2.104a2 2 0 0 1-.15.762l-3.095 7.515a1 1 0 0 1-.925.619H2a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h3.482a1 1 0 0 0 .817-.423L11.752.85a.5.5 0 0 1 .632-.159l1.814.907a2.5 2.5 0 0 1 1.305 2.853L14.6 8zM7 10.588V19h11.16L21 12.104V10h-6.4a2 2 0 0 1-1.938-2.493l.903-3.548a.5.5 0 0 0-.261-.571l-.661-.33-4.71 6.672c-.25.354-.57.644-.933.858zM5 11H3v8h2v-8z"/></svg>
      &nbsp;{{post.numLike}}
    </div>
    <div class="button" (click)="clickReplyButton()">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 3h4a8 8 0 1 1 0 16v3.5c-5-2-12-5-12-11.5a8 8 0 0 1 8-8zm2 14h2a6 6 0 1 0 0-12h-4a6 6 0 0 0-6 6c0 3.61 2.462 5.966 8 8.48V17z"/></svg>
      &nbsp;{{post.numComment}}</div>
  </div>
</div>

<div id="window-background" *ngIf="this.editWindowVisible"></div>
<div id="edit-window" *ngIf="this.editWindowVisible">
  <div>
    <textarea maxlength="140" id="update-input-box" [(ngModel)]="editInputBoxContent"></textarea>
  </div>
  <div>
    <div id="edit-input-box-length">{{editInputBoxContent.length}}/140</div>
    <div class="edit-window-button" id="cancel-update" (click)="cancelUpdate()">取消</div>
    <div class="edit-window-button" id="submit-update" (click)="submitUpdate()">提交</div>
  </div>
</div>
